---
title: "A008: Retrieve Worklist"
keywords: endpoint, catalogue, worklist, referrals for review
sidebar: overview_sidebar
toc: false
permalink: /explore_endpoint_a008x.html
summary: false
---

### API URL
Base URLs:  
FHIR2	`https://api.ebs.ncrs.nhs.uk/ers-api/v1/`  
FHIR3	`https://api.ebs.ncrs.nhs.uk/ers-api/STU3/v1/`

| Method | URL | Authentication |
| -------------| --- | ---------------- |
| POST | /ReferralRequest/$ers.fetchworklist | Session Token [(Details)](develop_business_flow_bf001.html) |

### Description
As a Service Provider Clinician (/Administrator)  
I want to download the list of referrals that are booked (or sent for triage) into my organisation and that are ready for review  
so that I can evaluate them and accept them/reject them/redirect them accordingly.

### Prerequisite Operations
If using the optional filter on specialty, the value provided must be a valid code obtained via the [Get Reference Data (A004)](explore_endpoint_a008.html) endpoint.

### Request Operation

#### Request Header

| Field Name | Value |
| ---- | ---- |
| XAPI_ASID | The "Accredited System ID" issued to the third party |
| HTTP_X_SESSION_KEY | The session key generated by the Create Session endpoint (A001)  |
| XAPI_FQDN | The "common name" of the API-specific endpoint certificate issued to the third party |
| Accept | `*/*`, `application/json+fhir` |


#### Request Body
The Operation Definition for this endpoint is available on the FHIR server:  
[FHIR 2 v1 ers-fetchworklist-operation-1](https://data.developer.nhs.uk/specifications/eRS-draftd/Profile.ReferralsForReviewWorklistQuery/ers-fetchworklist-operation-1.html)  
[FHIR3 v1 eRS-FetchWorklist-Operation-1](https://fhir.nhs.uk/STU3/OperationDefinition/eRS-FetchWorklist-Operation-1)

| Parameter Name             | Mandatory | Cardinality | Type            | Notes |
|  ------------------------- | :-------: | :---------: | --------------- | ----- |
| listType                   | Yes       | 1..1        | CodeableConcept | Currently, only one value is supported: 'REFERRALS_FOR_REVIEW' |
| service                    | No        | 0..1        | Identifier      | Service ID |
| specialtyAssignedIndicator | No        | 0..1        | CodeableConcept |Mandatory with value 'ASSIGNED' if 'specialty' is present |
| specialty                  | No        | 0..1        | CodeableConcept | Obtained via a POST to `ValueSet/{ValueSetID}` (A004)  |
| location                   | No        | 0..1        | Identifier      | ODS Location Code|
| clinicianAssignedIndicator | No        | 0..1        | CodeableConcept |Mandatory with value 'ASSIGNED' if 'clinician' is present |
| clinician                  | No        | 0..1        | Identifier      | Clinician ID |

#### Mandatory Parameters

| Parameter Name | Notes |
|  ---- |  ---- |
| listType | Currently, only one value is supported: 'REFERRALS_FOR_REVIEW' |

##### Example code

<details><summary>Request Header</summary>
  <br>
  <pre>
  XAPI_ASID:200000000220
  Accept:application/json
  Accept-Encoding:gzip,deflate
  Content-Type:application/json
  </pre>
</details>

<details><summary>Request Body</summary>
<br>
  <p>
    <pre>
      {
      }

    </pre>
  </p>
</details>

### Response

#### Response Header
A response code is returned.

#### Response Body
<br>
FHIR2 v1:  
[ers-fetchworklist-list-1](https://data.developer.nhs.uk/specifications/eRS-draftd/Profile.ReferralsForReviewWorklistResponse/ers-fetchworklist-list-1.html)  
[ers-operationoutcome-1](https://data.developer.nhs.uk/specifications/eRS-draftd/Profile.ReferralsForReviewWorklistResponse/ers-operationoutcome-1.html)

FHIR3 v1:  
[eRS-FetchWorklist-List-1](https://fhir.nhs.uk/STU3/StructureDefinition/eRS-FetchWorklist-List-1)  
[eRS-OperationOutcome-1](https://fhir.nhs.uk/STU3/StructureDefinition/eRS-OperationOutcome-1)

#### Response Codes
HTTP Status codes 401, 403, 422, 500, 501 may be returned.  

When the HTTP status code returned is 422 (Unprocessable Entity) then a FHIR OperationOutcome will also be included.  

Error codes may be as follows:  

| issue.details.code | Reason | Notes |
| ------------------ | ------ | ------ |
| INVALID_VALUE | A service/location/clinician was provided that is not found in e-RS, or the Specialty Assigned value is 'NOT_ASSIGNED' | - |
| MISSING_VALUE | A mandatory parameter has not been provided | - |
| NO_RELATIONSHIP |The logged in user is not associated to the service (if this is provided) | - |
| UNEXPECTED_FIELD  | Specialty/clinician is provided, but the value for Specialty/Cliniain Assigned is not 'ASSIGNED' | - |
