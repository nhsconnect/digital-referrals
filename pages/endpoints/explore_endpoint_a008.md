---
title: "A008: Retrieve Worklist"
keywords: endpoint, catalogue
sidebar: overview_sidebar
toc: false
permalink: explore_endpoint_a008.html
summary: false
---

<div style="border: 2px solid #888888; padding: 10px; background: #c7c7c7;">If you are using the deprecated FHIR v2 endpoint, please click <a href="explore_endpoint_a008_DSTU2.html">here</a>.</div>

##### Status: ![Live](images/icons/api_live.png)

## Description
This API lets authorised users retrieve the ‘Referrals for Review’ work list. This work list gives details of new or outstanding referrals sent to the service by GPs and others. It includes their key attributes.


## Resource URL

Base URL (Dev1): https://api.dev1.ers.ncrs.nhs.uk/ers-api/  

| Method       | URL | Authentication |
| -------------| --- | ---------------- |
| POST | /STU3/v1/ReferralRequest/$ers.fetchworklist | Session Token [(Details)](develop_business_flow_bf001.html) |


## Operation Definition
[eRS-FetchWorklist-Operation-1](https://fhir.nhs.uk/STU3/OperationDefinition/eRS-FetchWorklist-Operation-1)

## Prerequisite Conditions


# INPUT

## Request Operation: Header

| Field Name | Description |
| ---------- | ------------- |
| XAPI_ASID | The "Accredited System ID" issued to the third party |
| HTTP_X_SESSION_KEY | The session key generated by the Create Session endpoint (A001) |
| Content-Type | Example: "application/fhir+json" |

## Request Operation: Parameters

| Name | Cardinality | Type | Description |
| ---- | ----------- | ---- | ----------- |
| listType | 1..1 | CodeableConcept | Indicates the type of list requested, this is currently fixed to 'REFERRALS_FOR_REVIEW'. |
| service | 0..1 | Identifier | The service identifier |
| specialtyAssignedIndicator | 0..1 | CodeableConcept | Indicates whether a Specialty is assigned to the Referral Request. If 'Assigned' the 'Specialty' parameter must be present. If 'Not Assigned' the 'specialtyAssignedIndicator' and 'Specialty' parameter must be absent. |
| specialty | 0..1 | CodeableConcept | The Specialty for the service. If present, the 'specialtyAssignedIndicator' parameter must be set to 'Assigned'. The specialty list must be retrieved dynamically from the e-RS valueset. |
| location | 0..1 | Identifier | The service location identifier. |
| clinicianAssignedIndicator | 0..1 | CodeableConcept | Indicates whether a clinician is assigned to the Referral Request. If 'Assigned' the 'Clinician' parameter must be present. If 'Not Assigned' the 'Clinician' parameter must be absent. |
| clinician | 0..1 | Identifier | The clinician assigned to the Referral Request. If present, the 'ClinicianAssignedIndicator' parameter must be set to 'Assigned' |

### Example URI
```http
https://api.dev1.ers.ncrs.nhs.uk/ers-api/STU3/v1/ReferralRequest/$ers.fetchworklist
```

### Example Request Header
```http
"XAPI_ASID" : "999000000045",
"HTTP_X_SESSION_KEY" : "pro-api-session:06bdd8aa-da2c-45dc-bc73-bee80b70fe2d",
"Content-Type" : "application/fhir+json"
```

### Example Request Body
[A008_Request.json](downloads/json/A008_Request.json)  

# OUTPUT
## Response: Success
If successful, all referrals from the ‘Referrals for Review’ worklist matching the input criteria are returned. The response code `200 (OK)` is returned.

### Example Response Header
```http
"X_ERS_TRANSACTION_ID" : "bfa90094-981a-4d2a-ad56-a17429865241-1",
"Content-Type" : "application/fhir+json"
```

### Example Response Body
[A008_Response.json](downloads/json/A008_Response.json)

## Response: Failure
If an error occurs, the relating HTTP status code will be returned in the header.  

Where status code 422 (Unprocessable Entity) is returned then an eRS-OperationOutcome-1 will be included in the body, as detailed below:

| OutcomeKey | Description | Suggested Diagnostic |
| ---------- | ----------- | -------------------- |
