---
title: "A002: Professional Session Select Role"
keywords: endpoint, catalogue
sidebar: overview_sidebar
toc: false
permalink: explore_endpoint_a002.html
summary: false
---

#### Status: ![Live](images/icons/api_live.png)

## Description
Updates a Professional Session with the appropriate NHS organisation and role. This ensures the correct access rights for the user.

## Resource URL

| Method | URL |
| -------------| --- |
| PUT | {{Base URL}}/v1/ProfessionalSession/{sessionKey}

- {{Base URL}} (Dev1) = https://api.dev1.ers.ncrs.nhs.uk/ers-api  

## Prerequisite Conditions
- The Create Session endpoint must be called in order to create the session. This endpoint can then be used to select one of the applicable roles/permissions returned. The _ProfessionalSession.id_ returned from the Create Session endpoint should be included as a header (HTTP_X_SESSION_KEY) for this and all subsequent API requests.

# INPUT

## Request Operation: Header

| Field Name | Value |
| ---------- | ----- |
| XAPI_ASID | The "Accredited System ID" issued to the third party |
| HTTP_X_SESSION_KEY | The session key generated by the [Create Session endpoint (A001)](explore_endpoint_a001.html) |

## Request Operation: Body
Provide token and permission fields when selecting a role.

### Example Request Header
```http
XAPI_ASID:200000000220
Content-Type:application/json
HTTP_X_SESSION_KEY: pro-xapi-session_222c42c7-820f-4f9b-92fb-3add4b1db9f7
```

### Example Request Body
##### Note: These examples may contain environment specific URLs and test data, these should be replaced with appropriate values for your implementation.  

- [Example Request](downloads/json/A002_Request.json)

# OUTPUT
## Response: Success
The created [Professional Session Resource](explore_models.html) is returned with the selected permission applied.

The response code `200 (OK)` is returned.

### Example Response Body
##### Note: These examples may contain environment specific URLs and test data, these should be replaced with appropriate values for your implementation.  

- [Example Response](downloads/json/A002_Response.json)

## Response: Failure
If an error occurs, the relating HTTP status code will be returned in the header.  

Where status code 422 (Unprocessable Entity) is returned then an eRS-OperationOutcome-1 will be included in the body, as detailed below:

| OutcomeKey | Description | Suggested Diagnostic |
| ---------- | ----------- | -------------------- |
