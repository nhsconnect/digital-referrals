---
title: "A008: Retrieve Worklist (FHIR STU3)"
keywords: endpoint, catalogue, worklist, referrals for review
sidebar: overview_sidebar
toc: false
permalink: /explore_endpoint_a008_STU3.html
summary: false
---

##### Status: ![Beta](images/icons/api_beta.png)

### API URL

Base URL (Dev3): https://api.dev3.ers.ncrs.nhs.uk/ers-api/

| Method | URL | Authentication |
| -------------| --- | ---------------- |
| POST | STU3/v1/ReferralRequest/$ers.fetchworklist | Session Token [(Details)](develop_business_flow_bf001.html) |

### Description
As a Service Provider Clinician (/Administrator)  
I want to download the list of referrals that are booked (or sent for triage) into my organisation and that are ready for review  
so that I can evaluate them and accept them/reject them/redirect them accordingly.

This endpoint is to be used as part of the [Create Referral](develop_business_flow_bf004.html) workflow.

### Prerequisite Operations
If using the optional filter on specialty, the value provided must be a valid code obtained via the [Get Reference Data (A004)](explore_endpoint_a008.html) endpoint.

### Request Operation

#### Request Header

| Field Name | Value |
| ---- | ---- |
| XAPI_ASID | The "Accredited System ID" issued to the third party |
| HTTP_X_SESSION_KEY | The session key generated by the Create Session endpoint (A001)  |
| Accept | 'application/fhir+json` |
| Content-Type |	'application/fhir+json` |


#### Request Body
The Operation Definition for this endpoint is available on the FHIR server:  

[FHIR3 v1 eRS-FetchWorklist-Operation-1](https://fhir.nhs.uk/STU3/OperationDefinition/eRS-FetchWorklist-Operation-1)

| Parameter Name             | Cardinality | Type            | Notes |
|  ------------------------- | :---------: | --------------- | ----- |
| listType                   | 1..1        | CodeableConcept | Currently, only one value is supported: 'REFERRALS_FOR_REVIEW' |
| service                    | 0..1        | Identifier      | Service ID |
| specialtyAssignedIndicator | 0..1        | CodeableConcept |Mandatory with value 'ASSIGNED' if 'specialty' is present |
| specialty                  | 0..1        | CodeableConcept | Obtained via a POST to `ValueSet/{ValueSetID}` (A004)  |
| location                   | 0..1        | Identifier      | ODS Location Code|
| clinicianAssignedIndicator | 0..1        | CodeableConcept |Mandatory with value 'ASSIGNED' if 'clinician' is present |
| clinician                  | 0..1        | Identifier      | Clinician ID |

<details><summary>Example Request Header</summary>
<br>
  <pre>
  XAPI_ASID:200000000220
  Accept:application/json
  Accept-Encoding:gzip,deflate
  Content-Type:application/json
  </pre>
</details>

<details><summary>Example Request Body</summary>
<br>
  <pre>
    EXAMPLE COMING SOON
  </pre>
</details>
<br>

### Response

#### Success
The response code `201 (ok)` is returned. The response body will contain the worklist data in the following FHIR3 format - [eRS-FetchWorklist-List-1](https://fhir.nhs.uk/STU3/StructureDefinition/eRS-FetchWorklist-List-1)

<details><summary>Example Response Body</summary>
<br>
  <pre>
    EXAMPLE COMING SOON
  </pre>
</details>
<br>

#### Failure
If an error occurs the relating [HTTP status code](explore_error_messages.html) will be returned in the header. Where status code 422 (Unprocessable Entity) is returned then a [eRS-OperationOutcome-1](https://fhir.nhs.uk/STU3/StructureDefinition/eRS-OperationOutcome-1) will be included in the body, as detailed below.  

| issue.details.code | Description |
| ------------------ | ------ | ------ |
| INVALID_VALUE | A service/location/clinician was provided that is not found in e-RS, or the Specialty Assigned value is 'NOT_ASSIGNED' |
| MISSING_VALUE | A mandatory parameter has not been provided |
| NO_RELATIONSHIP |The logged in user is not associated to the service (if this is provided) |
| UNEXPECTED_FIELD  | Specialty/clinician is provided, but the value for Specialty/Clinician Assigned is not 'ASSIGNED' |
